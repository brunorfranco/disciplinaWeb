function trim(str){return str.replace(/^\s+|\s+$/g,"")}function getColorAlpha(color){if(color=="transparent")return 0;var digits=/rgba\((?:\d+), (?:\d+), (?:\d+), (\d+)\)/.exec(color);if(!digits||!digits[1])return 255;return parseInt(digits[1],10)}function colorToHex(color){if(color=="transparent")return 0;var digits=/rgb(?:a?)\((\d+), (\d+), (\d+)(?:, \d+)?\)/.exec(color);if(!digits)return 0;return(parseInt(digits[3],10)|(parseInt(digits[2],10)<<8)|(parseInt(digits[1],10)<<16))}function isHidden(doc,element){if(element.offsetWidth===0&&element.offsetHeight===0){return true}var current_element=element;while(current_element){try{var computedStyle=doc.defaultView.getComputedStyle(current_element);if(computedStyle.getPropertyValue("visibility")=="hidden"||computedStyle.getPropertyValue("display")=="none"||computedStyle.getPropertyValue("opacity")=="0"){return true}}catch(err){}current_element=current_element.parentNode}return false}function isSameColor(doc,element){var bg_color=0xFFFFFF;var current_element=element;var computedStyle=null;while(current_element){try{computedStyle=doc.defaultView.getComputedStyle(current_element);var color=computedStyle.getPropertyValue("background-color");if(getColorAlpha(color)!==0){bg_color=colorToHex(color);break}}catch(err){}current_element=current_element.parentNode}var font_color=0x000000;try{computedStyle=doc.defaultView.getComputedStyle(element);font_color=colorToHex(computedStyle.getPropertyValue("color"))}catch(err){}return font_color==bg_color}function isOverflowed(doc,element){var current_element=element;while(current_element){try{var computedStyle=doc.defaultView.getComputedStyle(current_element);var overflow_hidden=computedStyle.getPropertyValue("overflow")=="hidden";var overflowx_hidden=computedStyle.getPropertyValue("overflow-x")=="hidden";var overflowy_hidden=computedStyle.getPropertyValue("overflow-y")=="hidden";if(((overflow_hidden||overflowx_hidden)&&current_element.offsetWidth===0)||((overflow_hidden||overflowy_hidden)&&current_element.offsetHeight===0)){return true}}catch(err){}current_element=current_element.parentNode}return false}function isElementVisible(doc,element){return!(isHidden(doc,element)||isOverflowed(doc,element)||isSameColor(doc,element))}PTA=function(){this.vt="";this.invt=""};PTA.prototype={recursiveClear:function(doc,element){if(element.nodeType==3){var textContent=trim(element.textContent);if(textContent){var parent_node=element.parentNode;if(parent_node.tagName=="OPTION"){parent_node=parent_node.parentNode}if(isElementVisible(doc,parent_node)){this.vt+=" "+textContent}else{this.invt+=" "+textContent}}}else if(element.nodeType==1){if(element.contentDocument){if(!isHidden(doc,element)){if(element.clientWidth>0||element.clientHeight>0){var bodies=element.contentDocument.getElementsByTagName("body");for(var i=0;i<bodies.length;++i){this.recursiveClear(element.contentDocument,bodies[i])}}}}else{var child=element.firstChild;while(child){this.recursiveClear(doc,child);child=child.nextSibling}}}},process:function(){if(this.vt||this.invt){return}var bodies=window.document.getElementsByTagName("body");for(var i=0;i<bodies.length;++i){this.recursiveClear(document,bodies[i])}this.vt=trim(this.vt);this.invt=trim(this.invt)},visible_text:function(){return this.vt},invisible_text:function(){return this.invt}};window['PTA']=PTA;PTA.prototype['recursiveClear']=PTA.prototype.recursiveClear;PTA.prototype['process']=PTA.prototype.process;PTA.prototype['visible_text']=PTA.prototype.visible_text;PTA.prototype['invisible_text']=PTA.prototype.invisible_text;